# ソケット通信とは
異なるPCのプロセスと通信できる。いわゆるインターネット。  
WEBブラウザの閲覧も異なるPCのプロセス間通信。  
WEBサーバの場合はHTTP通信という。HHTP通信はソケット通信をベースにした通信。
HTTP通信もソケット通信の機能を使っている。   
ソケット通信は、OSI参照モデルのトランスポート層の通信であり、  
HTTP通信は、アプリケーション層の通信である。  
ソケット通信では、TCP・UDPどちらのプロトコルも使える。（※TCPの方が信頼性が高い）  
サーバ側にはIPアドレスとポート番号を指定する必要がある。  
IPアドレスはインターネット上の住所、ポート番号はどのプログラムかを示している。  

## 実装

### サーバ側の手順
1. ソケットを作成する（socketシステムコール）
2. 作成したソケットにIPアドレスとポート番号を与える（bindシステムコール）
3. クライアント側からの接続要求を受け付ける準備が整った事を示す（listenシステムコール）
4. クライアント側からの接続を受け付ける（acceptシステムコール）
5. データの送受信を行う（send, recvシステムコール）
6. 作成したソケットを閉じる（cloeシステムコール）

### クライアント側の手順
1. ソケットを作成する（socketシステムコール）
2. 作成したソケットをサーバ側のソケットに接続する（IPアドレスとポート番号を指定）（connectシステムコール）
3. データの送受信を行う（send, recvシステムコール）
4. 作成したソケットを閉じる（closeシステムコール）


### 実行例
```
$ ./server_socket 5000
Address=0.0.0.0, Port=5000
Wainting for connetion...
Connected from 127.0.0.1
received: hello
received: hi
received: exit
$ 
```

```
$ ./client_socket 0.0.0.0 5000
Connecting to 0.0.0.0:
> hello
from server: 5
> hi
from server: 2
> exit
$
```

おお！通信できてる！！

複数clientに対応してみる
書いたはいいもののすぐdisconnectになる。。。





